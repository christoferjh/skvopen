<html ng-app="skvopenApp">
    <head>
        <script src="bower_components/angular/angular.min.js"></script>
        <script src="bower_components/angular-aria/angular-aria.min.js"></script>
        <script src="bower_components/angular-animate/angular-animate.min.js"></script>
        <script src="bower_components/angular-material/angular-material.min.js"></script>

        <script src="frontend/skvopenApp.js"></script>
        <script>
            function initMap() {
                angular.element(document.getElementById('skvopenController')).scope().initMap();
            }
        </script>

        <script src='//maps.googleapis.com/maps/api/js?key=AIzaSyAVk5mXuf260O90PV_Z3whQoMfRUpbxdug&callback=initMap' async defer></script>

        <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="https://material.angularjs.org/latest/angular-material.min.css" rel="stylesheet"/>

        <style>
            html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            }
            #map {
            height: 100%;
            }

            tbody > tr:hover {
                cursor: pointer;
                border-bottom:1pt solid black;
            }

        </style>

    </head>

    <body ng-controller="skvopenController" id="skvopenController" data-ng-init="fragaOmLon()">

        <div class="container">

            <div id="map"></div>

            <form>
                Lön: <input type="text" ng-model="lon"/> <br/>
                Hemkommun: <input type="text" placeholder='Ingen kommun vald ännu' ng-model="nuvarandekommun" readonly/> <br/>

                <div class="row">
                    <div class="col-md-6">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Kommun</th>
                                    <th>Kvalitetsökning</th>
                                </tr>
                            </thead>
                            <tbody ng-repeat="(kommun, varor) in varorPerKommun">
                                <tr ng-click="visaMerInfo('')">
                                    <td>
                                        {{kommun}}
                                    </td>
                                    <td>
                                        {{varor.hamburgare}}
                                    </td>
                                    <td>
                                        {{varor.sodaburk}}
                                    </td>
                                    <td>
                                        {{varor.godisnapp}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="col-md-6" id="merInfo">
                        Välj kommun i tabellen till vänster för att se mer information.
                    </div>
                </div>

                <input type="submit" value="Återställ" ng-click="aterstall()"/>
            </form>
        </body>
    </html>
